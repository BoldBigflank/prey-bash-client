#!/bin/bash
###################################################################
# Prey Windows Specific Settings - by Tomas Pollak (bootlog.org)
# URL: http://preyproject.com
# License: GPLv3
####################################################################

readonly logged_user=`echo "ComputerSystem Get Username" | wmic 2> /dev/null | grep -v 'wmic:' | grep -v "^$" | tail -1 | sed 's/.*\\\//'`

tmpbase="$WINDIR\Temp"
line_breaker="\r\n"
processes='TASKLIST'

readonly required_net_version='2.0.50727'
readonly prey_reg_key="HKLM\Software\Prey"

x64=`echo $PROCESSOR_ARCHITEW6432 | grep "64" 1> /dev/null && echo 1`
# [ -n "$x64" ] log " ** 64 bit architecture detected!"

readonly root_path='C:\'
readonly system_path="$WINDIR"
readonly programs_path="$PROGRAMFILES"
readonly users_path="`echo $USERPROFILE | sed "s/\\\[^\\\]*$//"`"
readonly home_path="$users_path\\${logged_user}"

# xp's users path contains a whitespace (C:\Documents and Settings),
# while Vista and 7's don't (C:\Users), so we have a simple way to check
if [ `find_in "$users_path" " "` ]; then
	readonly winxp=1
else
	readonly vista7=1
fi
